package me.lor3mipsum.next.client.impl.modules.exploit;

import me.lor3mipsum.next.client.impl.settings.BooleanSetting;
import me.lor3mipsum.next.client.impl.settings.KeybindSetting;
import me.lor3mipsum.next.client.module.Category;
import me.lor3mipsum.next.client.module.Module;
import net.minecraft.item.PickaxeItem;
import org.lwjgl.glfw.GLFW;

public class NoEntityTrace extends Module {
    public BooleanSetting pick = new BooleanSetting("PickaxeOnly", true);
    public KeybindSetting keybind = new KeybindSetting(GLFW.GLFW_KEY_UNKNOWN);

    public NoEntityTrace() {
        super("NoEntityTrace", "Allows you to mine through entities", Category.EXPLOIT);
    }

    public boolean canWork() {
        if (!isOn()) return false;

        if (pick.isOn()) {
            return mc.player.getMainHandStack().getItem() instanceof PickaxeItem || mc.player.getOffHandStack().getItem() instanceof PickaxeItem;
        }

        return true;
    }

    @Override
    public int getKeybind() {
        return keybind.getKey();
    }

    @Override
    public void setKeybind(int keybind) {
        this.keybind.setKey(keybind);
    }
}
